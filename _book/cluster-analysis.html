<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 Cluster Analysis | My Data Science Notes</title>
  <meta name="description" content="This is a compendium of notes from classes, tutorials, etc. that I reference from time to time." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 Cluster Analysis | My Data Science Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a compendium of notes from classes, tutorials, etc. that I reference from time to time." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 Cluster Analysis | My Data Science Notes" />
  
  <meta name="twitter:description" content="This is a compendium of notes from classes, tutorials, etc. that I reference from time to time." />
  

<meta name="author" content="Michael Foley" />


<meta name="date" content="2020-07-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="principal-components-analysis.html"/>
<link rel="next" href="k-means.html"/>
<script src="assets/jquery-2.2.3/jquery.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="assets/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">My Data Science Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Intro</a></li>
<li class="chapter" data-level="1" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>1</b> Probability</a><ul>
<li class="chapter" data-level="1.1" data-path="principles.html"><a href="principles.html"><i class="fa fa-check"></i><b>1.1</b> Principles</a></li>
<li class="chapter" data-level="1.2" data-path="disc-dist.html"><a href="disc-dist.html"><i class="fa fa-check"></i><b>1.2</b> Discrete Distributions</a><ul>
<li class="chapter" data-level="1.2.1" data-path="disc-dist.html"><a href="disc-dist.html#bernoulli"><i class="fa fa-check"></i><b>1.2.1</b> Bernoulli</a></li>
<li class="chapter" data-level="1.2.2" data-path="disc-dist.html"><a href="disc-dist.html#binomial"><i class="fa fa-check"></i><b>1.2.2</b> Binomial</a></li>
<li class="chapter" data-level="1.2.3" data-path="disc-dist.html"><a href="disc-dist.html#poission"><i class="fa fa-check"></i><b>1.2.3</b> Poission</a></li>
<li class="chapter" data-level="1.2.4" data-path="disc-dist.html"><a href="disc-dist.html#multinomial"><i class="fa fa-check"></i><b>1.2.4</b> Multinomial</a></li>
<li class="chapter" data-level="1.2.5" data-path="disc-dist.html"><a href="disc-dist.html#negative-binomial"><i class="fa fa-check"></i><b>1.2.5</b> Negative-Binomial</a></li>
<li class="chapter" data-level="1.2.6" data-path="disc-dist.html"><a href="disc-dist.html#geometric"><i class="fa fa-check"></i><b>1.2.6</b> Geometric</a></li>
<li class="chapter" data-level="1.2.7" data-path="disc-dist.html"><a href="disc-dist.html#hypergeometric"><i class="fa fa-check"></i><b>1.2.7</b> Hypergeometric</a></li>
<li class="chapter" data-level="1.2.8" data-path="disc-dist.html"><a href="disc-dist.html#gamma"><i class="fa fa-check"></i><b>1.2.8</b> Gamma</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="cont-dist.html"><a href="cont-dist.html"><i class="fa fa-check"></i><b>1.3</b> Continuous Distributions</a><ul>
<li class="chapter" data-level="1.3.1" data-path="cont-dist.html"><a href="cont-dist.html#normal"><i class="fa fa-check"></i><b>1.3.1</b> Normal</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="join-distributions.html"><a href="join-distributions.html"><i class="fa fa-check"></i><b>1.4</b> Join Distributions</a></li>
<li class="chapter" data-level="1.5" data-path="likelihood.html"><a href="likelihood.html"><i class="fa fa-check"></i><b>1.5</b> Likelihood</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="statistical-tests.html"><a href="statistical-tests.html"><i class="fa fa-check"></i><b>2</b> Statistical Tests</a><ul>
<li class="chapter" data-level="2.1" data-path="chi-square-test.html"><a href="chi-square-test.html"><i class="fa fa-check"></i><b>2.1</b> Chi-Square Test</a></li>
<li class="chapter" data-level="2.2" data-path="one-way-tables.html"><a href="one-way-tables.html"><i class="fa fa-check"></i><b>2.2</b> One-Way Tables</a><ul>
<li class="chapter" data-level="2.2.1" data-path="one-way-tables.html"><a href="one-way-tables.html#chi-square-goodness-of-fit-test"><i class="fa fa-check"></i><b>2.2.1</b> Chi-Square Goodness-of-Fit Test</a></li>
<li class="chapter" data-level="2.2.2" data-path="one-way-tables.html"><a href="one-way-tables.html#proportion-test"><i class="fa fa-check"></i><b>2.2.2</b> Proportion Test</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="two-way-tables.html"><a href="two-way-tables.html"><i class="fa fa-check"></i><b>2.3</b> Two-Way Tables</a><ul>
<li class="chapter" data-level="2.3.1" data-path="two-way-tables.html"><a href="two-way-tables.html#chi-square-independence-test"><i class="fa fa-check"></i><b>2.3.1</b> Chi-Square Independence Test</a></li>
<li class="chapter" data-level="2.3.2" data-path="two-way-tables.html"><a href="two-way-tables.html#residuals-analysis"><i class="fa fa-check"></i><b>2.3.2</b> Residuals Analysis</a></li>
<li class="chapter" data-level="2.3.3" data-path="two-way-tables.html"><a href="two-way-tables.html#difference-in-proportions"><i class="fa fa-check"></i><b>2.3.3</b> Difference in Proportions</a></li>
<li class="chapter" data-level="2.3.4" data-path="two-way-tables.html"><a href="two-way-tables.html#relative-risk"><i class="fa fa-check"></i><b>2.3.4</b> Relative Risk</a></li>
<li class="chapter" data-level="2.3.5" data-path="two-way-tables.html"><a href="two-way-tables.html#odds-ratio"><i class="fa fa-check"></i><b>2.3.5</b> Odds Ratio</a></li>
<li class="chapter" data-level="2.3.6" data-path="two-way-tables.html"><a href="two-way-tables.html#partitioning-chi-square"><i class="fa fa-check"></i><b>2.3.6</b> Partitioning Chi-Square</a></li>
<li class="chapter" data-level="2.3.7" data-path="two-way-tables.html"><a href="two-way-tables.html#correlation"><i class="fa fa-check"></i><b>2.3.7</b> Correlation</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="k-way-tables.html"><a href="k-way-tables.html"><i class="fa fa-check"></i><b>2.4</b> K-Way Tables</a><ul>
<li class="chapter" data-level="2.4.1" data-path="k-way-tables.html"><a href="k-way-tables.html#odds-ratio-1"><i class="fa fa-check"></i><b>2.4.1</b> Odds Ratio</a></li>
<li class="chapter" data-level="2.4.2" data-path="k-way-tables.html"><a href="k-way-tables.html#chi-square-independence-test-1"><i class="fa fa-check"></i><b>2.4.2</b> Chi-Square Independence Test</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="continuous-analysis.html"><a href="continuous-analysis.html"><i class="fa fa-check"></i><b>2.5</b> Continuous Variable Analysis</a><ul>
<li class="chapter" data-level="2.5.1" data-path="continuous-analysis.html"><a href="continuous-analysis.html#correlation-1"><i class="fa fa-check"></i><b>2.5.1</b> Correlation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="experiment-design.html"><a href="experiment-design.html"><i class="fa fa-check"></i><b>3</b> Experiment Design</a><ul>
<li class="chapter" data-level="3.1" data-path="single-factor.html"><a href="single-factor.html"><i class="fa fa-check"></i><b>3.1</b> Single Factor</a></li>
<li class="chapter" data-level="3.2" data-path="blocking.html"><a href="blocking.html"><i class="fa fa-check"></i><b>3.2</b> Blocking</a></li>
<li class="chapter" data-level="3.3" data-path="nested.html"><a href="nested.html"><i class="fa fa-check"></i><b>3.3</b> Nested</a></li>
<li class="chapter" data-level="3.4" data-path="split-plot.html"><a href="split-plot.html"><i class="fa fa-check"></i><b>3.4</b> Split Plot</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="part-2-supervised-machine-learning.html"><a href="part-2-supervised-machine-learning.html"><i class="fa fa-check"></i>PART 2: Supervised Machine Learning</a><ul>
<li class="chapter" data-level="3.5" data-path="linear-regression-model.html"><a href="linear-regression-model.html"><i class="fa fa-check"></i><b>3.5</b> Linear Regression Model</a></li>
<li class="chapter" data-level="3.6" data-path="parameter-estimation.html"><a href="parameter-estimation.html"><i class="fa fa-check"></i><b>3.6</b> Parameter Estimation</a></li>
<li class="chapter" data-level="3.7" data-path="model-assumptions.html"><a href="model-assumptions.html"><i class="fa fa-check"></i><b>3.7</b> Model Assumptions</a><ul>
<li class="chapter" data-level="3.7.1" data-path="model-assumptions.html"><a href="model-assumptions.html#linearity"><i class="fa fa-check"></i><b>3.7.1</b> Linearity</a></li>
<li class="chapter" data-level="3.7.2" data-path="model-assumptions.html"><a href="model-assumptions.html#multicollinearity"><i class="fa fa-check"></i><b>3.7.2</b> Multicollinearity</a></li>
<li class="chapter" data-level="3.7.3" data-path="model-assumptions.html"><a href="model-assumptions.html#normality"><i class="fa fa-check"></i><b>3.7.3</b> Normality</a></li>
<li class="chapter" data-level="3.7.4" data-path="model-assumptions.html"><a href="model-assumptions.html#equal-variances"><i class="fa fa-check"></i><b>3.7.4</b> Equal Variances</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="prediction.html"><a href="prediction.html"><i class="fa fa-check"></i><b>3.8</b> Prediction</a></li>
<li class="chapter" data-level="3.9" data-path="inference.html"><a href="inference.html"><i class="fa fa-check"></i><b>3.9</b> Inference</a><ul>
<li class="chapter" data-level="3.9.1" data-path="inference.html"><a href="inference.html#t-test"><i class="fa fa-check"></i><b>3.9.1</b> <em>t</em>-Test</a></li>
<li class="chapter" data-level="3.9.2" data-path="inference.html"><a href="inference.html#f-test"><i class="fa fa-check"></i><b>3.9.2</b> <em>F</em>-Test</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="interpretation.html"><a href="interpretation.html"><i class="fa fa-check"></i><b>3.10</b> Interpretation</a></li>
<li class="chapter" data-level="3.11" data-path="model-validation.html"><a href="model-validation.html"><i class="fa fa-check"></i><b>3.11</b> Model Validation</a><ul>
<li class="chapter" data-level="3.11.1" data-path="model-validation.html"><a href="model-validation.html#accuracy-metrics"><i class="fa fa-check"></i><b>3.11.1</b> Accuracy Metrics</a></li>
<li class="chapter" data-level="3.11.2" data-path="model-validation.html"><a href="model-validation.html#cross-validation"><i class="fa fa-check"></i><b>3.11.2</b> Cross-Validation</a></li>
<li class="chapter" data-level="3.11.3" data-path="model-validation.html"><a href="model-validation.html#gain-curve"><i class="fa fa-check"></i><b>3.11.3</b> Gain Curve</a></li>
</ul></li>
<li class="chapter" data-level="3.12" data-path="ols-reference.html"><a href="ols-reference.html"><i class="fa fa-check"></i><b>3.12</b> OLS Reference</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="generalized-linear-models.html"><a href="generalized-linear-models.html"><i class="fa fa-check"></i><b>4</b> Generalized Linear Models</a><ul>
<li class="chapter" data-level="4.1" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>4.1</b> Logistic Regression</a></li>
<li class="chapter" data-level="4.2" data-path="multinomial-logistic-regression.html"><a href="multinomial-logistic-regression.html"><i class="fa fa-check"></i><b>4.2</b> Multinomial Logistic Regression</a></li>
<li class="chapter" data-level="4.3" data-path="ordinal-logistic-regression.html"><a href="ordinal-logistic-regression.html"><i class="fa fa-check"></i><b>4.3</b> Ordinal Logistic Regression</a><ul>
<li class="chapter" data-level="4.3.1" data-path="ordinal-logistic-regression.html"><a href="ordinal-logistic-regression.html#assumptions"><i class="fa fa-check"></i><b>4.3.1</b> Assumptions</a></li>
<li class="chapter" data-level="4.3.2" data-path="ordinal-logistic-regression.html"><a href="ordinal-logistic-regression.html#modeling"><i class="fa fa-check"></i><b>4.3.2</b> Modeling</a></li>
<li class="chapter" data-level="4.3.3" data-path="ordinal-logistic-regression.html"><a href="ordinal-logistic-regression.html#case-study"><i class="fa fa-check"></i><b>4.3.3</b> Case Study</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="poisson-regression.html"><a href="poisson-regression.html"><i class="fa fa-check"></i><b>4.4</b> Poisson Regression</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivariate-statistical-analysis.html"><a href="multivariate-statistical-analysis.html"><i class="fa fa-check"></i><b>5</b> Multivariate Statistical Analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="background.html"><a href="background.html"><i class="fa fa-check"></i><b>5.1</b> Background</a></li>
<li class="chapter" data-level="5.2" data-path="manova.html"><a href="manova.html"><i class="fa fa-check"></i><b>5.2</b> MANOVA</a></li>
<li class="chapter" data-level="5.3" data-path="repeated-measures.html"><a href="repeated-measures.html"><i class="fa fa-check"></i><b>5.3</b> Repeated Measures</a></li>
<li class="chapter" data-level="5.4" data-path="lda.html"><a href="lda.html"><i class="fa fa-check"></i><b>5.4</b> LDA</a></li>
<li class="chapter" data-level="5.5" data-path="pca.html"><a href="pca.html"><i class="fa fa-check"></i><b>5.5</b> PCA</a></li>
<li class="chapter" data-level="5.6" data-path="factor-analysis.html"><a href="factor-analysis.html"><i class="fa fa-check"></i><b>5.6</b> Factor Analysis</a></li>
<li class="chapter" data-level="5.7" data-path="canonical-correlation.html"><a href="canonical-correlation.html"><i class="fa fa-check"></i><b>5.7</b> Canonical Correlation</a></li>
<li class="chapter" data-level="5.8" data-path="cluster-analysis.html"><a href="cluster-analysis.html"><i class="fa fa-check"></i><b>5.8</b> Cluster Analysis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="regularization.html"><a href="regularization.html"><i class="fa fa-check"></i><b>6</b> Regularization</a><ul>
<li class="chapter" data-level="6.1" data-path="ridge.html"><a href="ridge.html"><i class="fa fa-check"></i><b>6.1</b> Ridge</a></li>
<li class="chapter" data-level="6.2" data-path="lasso.html"><a href="lasso.html"><i class="fa fa-check"></i><b>6.2</b> Lasso</a></li>
<li class="chapter" data-level="6.3" data-path="elastic-net.html"><a href="elastic-net.html"><i class="fa fa-check"></i><b>6.3</b> Elastic Net</a></li>
<li class="chapter" data-level="" data-path="model-summary.html"><a href="model-summary.html"><i class="fa fa-check"></i>Model Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="decision-trees.html"><a href="decision-trees.html"><i class="fa fa-check"></i><b>7</b> Decision Trees</a><ul>
<li class="chapter" data-level="7.1" data-path="classification-tree.html"><a href="classification-tree.html"><i class="fa fa-check"></i><b>7.1</b> Classification Tree</a><ul>
<li class="chapter" data-level="7.1.1" data-path="classification-tree.html"><a href="classification-tree.html#measuring-performance"><i class="fa fa-check"></i><b>7.1.1</b> Measuring Performance</a></li>
<li class="chapter" data-level="7.1.2" data-path="classification-tree.html"><a href="classification-tree.html#training-with-caret"><i class="fa fa-check"></i><b>7.1.2</b> Training with Caret</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="regression-tree.html"><a href="regression-tree.html"><i class="fa fa-check"></i><b>7.2</b> Regression Tree</a><ul>
<li class="chapter" data-level="7.2.1" data-path="regression-tree.html"><a href="regression-tree.html#training-with-caret-1"><i class="fa fa-check"></i><b>7.2.1</b> Training with Caret</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="bagged-trees.html"><a href="bagged-trees.html"><i class="fa fa-check"></i><b>7.3</b> Bagged Trees</a><ul>
<li class="chapter" data-level="7.3.1" data-path="bagged-trees.html"><a href="bagged-trees.html#bagged-classification-tree"><i class="fa fa-check"></i><b>7.3.1</b> Bagged Classification Tree</a></li>
<li class="chapter" data-level="7.3.2" data-path="bagged-trees.html"><a href="bagged-trees.html#bagging-regression-tree"><i class="fa fa-check"></i><b>7.3.2</b> Bagging Regression Tree</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="random-forests.html"><a href="random-forests.html"><i class="fa fa-check"></i><b>7.4</b> Random Forests</a></li>
<li class="chapter" data-level="7.5" data-path="gradient-boosting.html"><a href="gradient-boosting.html"><i class="fa fa-check"></i><b>7.5</b> Gradient Boosting</a></li>
<li class="chapter" data-level="7.6" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>7.6</b> Summary</a><ul>
<li class="chapter" data-level="7.6.1" data-path="summary.html"><a href="summary.html#classification-trees"><i class="fa fa-check"></i><b>7.6.1</b> Classification Trees</a></li>
<li class="chapter" data-level="7.6.2" data-path="summary.html"><a href="summary.html#regression-trees"><i class="fa fa-check"></i><b>7.6.2</b> Regression Trees</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="non-linear-models.html"><a href="non-linear-models.html"><i class="fa fa-check"></i><b>8</b> Non-linear Models</a><ul>
<li class="chapter" data-level="8.1" data-path="splines.html"><a href="splines.html"><i class="fa fa-check"></i><b>8.1</b> Splines</a></li>
<li class="chapter" data-level="8.2" data-path="mars.html"><a href="mars.html"><i class="fa fa-check"></i><b>8.2</b> MARS</a></li>
<li class="chapter" data-level="8.3" data-path="gam.html"><a href="gam.html"><i class="fa fa-check"></i><b>8.3</b> GAM</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="support-vector-machines.html"><a href="support-vector-machines.html"><i class="fa fa-check"></i><b>9</b> Support Vector Machines</a><ul>
<li class="chapter" data-level="9.1" data-path="maximal-margin-classifier.html"><a href="maximal-margin-classifier.html"><i class="fa fa-check"></i><b>9.1</b> Maximal Margin Classifier</a></li>
<li class="chapter" data-level="9.2" data-path="support-vector-classifier.html"><a href="support-vector-classifier.html"><i class="fa fa-check"></i><b>9.2</b> Support Vector Classifier</a></li>
<li class="chapter" data-level="9.3" data-path="support-vector-machines-1.html"><a href="support-vector-machines-1.html"><i class="fa fa-check"></i><b>9.3</b> Support Vector Machines</a></li>
<li class="chapter" data-level="9.4" data-path="my-svm-example.html"><a href="my-svm-example.html"><i class="fa fa-check"></i><b>9.4</b> My svm Example</a></li>
<li class="chapter" data-level="9.5" data-path="using-caret.html"><a href="using-caret.html"><i class="fa fa-check"></i><b>9.5</b> Using Caret</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="principal-components-analysis.html"><a href="principal-components-analysis.html"><i class="fa fa-check"></i><b>10</b> Principal Components Analysis</a></li>
<li class="chapter" data-level="11" data-path="cluster-analysis.html"><a href="cluster-analysis.html#cluster-analysis"><i class="fa fa-check"></i><b>11</b> Cluster Analysis</a><ul>
<li class="chapter" data-level="11.1" data-path="k-means.html"><a href="k-means.html"><i class="fa fa-check"></i><b>11.1</b> K-Means</a></li>
<li class="chapter" data-level="11.2" data-path="hca.html"><a href="hca.html"><i class="fa fa-check"></i><b>11.2</b> HCA</a></li>
<li class="chapter" data-level="11.3" data-path="cluster-analysis-with-time-series-data.html"><a href="cluster-analysis-with-time-series-data.html"><i class="fa fa-check"></i><b>11.3</b> Cluster Analysis with Time-Series Data</a></li>
<li class="chapter" data-level="11.4" data-path="k-means-vs-hca.html"><a href="k-means-vs-hca.html"><i class="fa fa-check"></i><b>11.4</b> K-Means vs HCA</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="text-mining.html"><a href="text-mining.html"><i class="fa fa-check"></i><b>12</b> Text Mining</a><ul>
<li class="chapter" data-level="12.1" data-path="tidy-text.html"><a href="tidy-text.html"><i class="fa fa-check"></i><b>12.1</b> Tidy Text</a></li>
<li class="chapter" data-level="12.2" data-path="bag-of-words.html"><a href="bag-of-words.html"><i class="fa fa-check"></i><b>12.2</b> Bag of Words</a></li>
<li class="chapter" data-level="12.3" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html"><i class="fa fa-check"></i><b>12.3</b> Sentiment Analysis</a><ul>
<li class="chapter" data-level="12.3.1" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#n-grams"><i class="fa fa-check"></i><b>12.3.1</b> N-Grams</a></li>
<li class="chapter" data-level="12.3.2" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#converting-to-and-from-non-tidy-formats"><i class="fa fa-check"></i><b>12.3.2</b> Converting to and from non-tidy formats</a></li>
<li class="chapter" data-level="12.3.3" data-path="disc-dist.html"><a href="disc-dist.html#example"><i class="fa fa-check"></i><b>12.3.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="topic-modeling.html"><a href="topic-modeling.html"><i class="fa fa-check"></i><b>12.4</b> Topic Modeling</a></li>
<li class="chapter" data-level="12.5" data-path="appendix-string-manipulation.html"><a href="appendix-string-manipulation.html"><i class="fa fa-check"></i><b>12.5</b> Appendix: String Manipulation</a><ul>
<li class="chapter" data-level="12.5.1" data-path="appendix-string-manipulation.html"><a href="appendix-string-manipulation.html#stringr-package"><i class="fa fa-check"></i><b>12.5.1</b> stringr package</a></li>
<li class="chapter" data-level="12.5.2" data-path="appendix-string-manipulation.html"><a href="appendix-string-manipulation.html#regular-expressions"><i class="fa fa-check"></i><b>12.5.2</b> Regular Expressions</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="reference-links.html"><a href="reference-links.html"><i class="fa fa-check"></i><b>12.6</b> Reference Links</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="survival-analysis.html"><a href="survival-analysis.html"><i class="fa fa-check"></i><b>13</b> Survival Analysis</a><ul>
<li class="chapter" data-level="13.1" data-path="basic-concepts.html"><a href="basic-concepts.html"><i class="fa fa-check"></i><b>13.1</b> Basic Concepts</a></li>
<li class="chapter" data-level="13.2" data-path="survival-curve-estimation.html"><a href="survival-curve-estimation.html"><i class="fa fa-check"></i><b>13.2</b> Survival Curve Estimation</a><ul>
<li class="chapter" data-level="13.2.1" data-path="survival-curve-estimation.html"><a href="survival-curve-estimation.html#kaplan-meier"><i class="fa fa-check"></i><b>13.2.1</b> Kaplan-Meier</a></li>
<li class="chapter" data-level="13.2.2" data-path="survival-curve-estimation.html"><a href="survival-curve-estimation.html#weibull"><i class="fa fa-check"></i><b>13.2.2</b> Weibull</a></li>
<li class="chapter" data-level="13.2.3" data-path="survival-curve-estimation.html"><a href="survival-curve-estimation.html#cox"><i class="fa fa-check"></i><b>13.2.3</b> Cox</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i>Appendix</a><ul>
<li class="chapter" data-level="" data-path="publishing-to-bookdown.html"><a href="publishing-to-bookdown.html"><i class="fa fa-check"></i>Publishing to BookDown</a></li>
<li class="chapter" data-level="" data-path="shiny-apps.html"><a href="shiny-apps.html"><i class="fa fa-check"></i>Shiny Apps</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i>Packages</a><ul>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#create-a-package"><i class="fa fa-check"></i>Create a package</a></li>
<li class="chapter" data-level="13.2.4" data-path="packages.html"><a href="packages.html#document-functions-with-roxygen"><i class="fa fa-check"></i><b>13.2.4</b> Document Functions with roxygen</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#create-data"><i class="fa fa-check"></i>Create Data</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html#create-vignette"><i class="fa fa-check"></i>Create Vignette</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">My Data Science Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cluster-analysis" class="section level1">
<h1><span class="header-section-number">Chapter 11</span> Cluster Analysis</h1>
<p>These note are primarily taken from the DataCamp courses <a href="https://www.datacamp.com/courses/cluster-analysis-in-r">Cluster Analysis in R</a> and <a href="https://campus.datacamp.com/courses/unsupervised-learning-in-r">Unsupervised Learning in R</a>, <a href="https://www.analyticsinhr.com/blog/people-analytics-r-clustering">AIHR</a>, and the <a href="https://uc-r.github.io/kmeans_clustering">UC Business Analytics R Programming Guide</a>.</p>
<p>Unsupervised machine learning searches for structure in unlabeled data (data without a response variable). The goal of unsupervised learning is clustering into homogenous subgroups, and dimensionality reduction. Examples of cluster analysis are k-means clustering and hierarchical cluster analysis (HCA) (others <a href="https://theappsolutions.com/blog/development/unsupervised-machine-learning/#:~:text=Unsupervised%20learning%20is%20a%20type%20of%20machine%20learning,in%20the%20dataset.%20The%20term%20%E2%80%9Cunsupervised%E2%80%9D%20refers%20to">here</a>). Clustering is used for audience segmentation, creating personas, detecting anomalies, and pattern recognition in images.</p>
<p>I will learn by example, using the <a href="https://www.kaggle.com/pavansubhasht/ibm-hr-analytics-attrition-dataset">IBM HR Analytics Employee Attrition &amp; Performance</a> data set from Kaggle to discover what factors are associated with employee turnover and whether distinct clusters of employees are more susceptible to turnover. The clusters can help personalize <a href="https://www.digitalhrtech.com/employee-experience-guide/?_ga=2.197559791.13240713.1594804554-1792658053.1594804554">employee experience</a> (AIHR). This data set includes 1,470 employee records consisting of the <code>EmployeeNumber</code>, a flag for <code>Attrition</code> during some timeframe, and 32 other descriptive variables.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="cluster-analysis.html#cb1-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="cluster-analysis.html#cb1-2"></a><span class="kw">library</span>(correlationfunnel) <span class="co"># binary correlation analysis</span></span>
<span id="cb1-3"><a href="cluster-analysis.html#cb1-3"></a><span class="kw">library</span>(cluster)           <span class="co"># daisy and pam</span></span>
<span id="cb1-4"><a href="cluster-analysis.html#cb1-4"></a><span class="kw">library</span>(Rtsne)             <span class="co"># dimensionality reduction and visualization</span></span>
<span id="cb1-5"><a href="cluster-analysis.html#cb1-5"></a><span class="kw">library</span>(plotly)            <span class="co"># interactive graphing</span></span>
<span id="cb1-6"><a href="cluster-analysis.html#cb1-6"></a><span class="kw">library</span>(dendextend)        <span class="co"># color_branches</span></span>
<span id="cb1-7"><a href="cluster-analysis.html#cb1-7"></a></span>
<span id="cb1-8"><a href="cluster-analysis.html#cb1-8"></a><span class="kw">set.seed</span>(<span class="dv">1234</span>)  <span class="co"># reproducibility</span></span>
<span id="cb1-9"><a href="cluster-analysis.html#cb1-9"></a></span>
<span id="cb1-10"><a href="cluster-analysis.html#cb1-10"></a>dat &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./input/WA_Fn-UseC_-HR-Employee-Attrition.csv&quot;</span>)</span>
<span id="cb1-11"><a href="cluster-analysis.html#cb1-11"></a>dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span></span>
<span id="cb1-12"><a href="cluster-analysis.html#cb1-12"></a><span class="st">  </span><span class="kw">mutate_if</span>(is.character, as_factor) <span class="op">%&gt;%</span></span>
<span id="cb1-13"><a href="cluster-analysis.html#cb1-13"></a><span class="st">  </span><span class="kw">select</span>(EmployeeNumber, Attrition, <span class="kw">everything</span>())</span>
<span id="cb1-14"><a href="cluster-analysis.html#cb1-14"></a>my_skim &lt;-<span class="st"> </span>skimr<span class="op">::</span><span class="kw">skim_with</span>(<span class="dt">numeric =</span> skimr<span class="op">::</span><span class="kw">sfl</span>(<span class="dt">p25 =</span> <span class="ot">NULL</span>, <span class="dt">p50 =</span> <span class="ot">NULL</span>, <span class="dt">p75 =</span> <span class="ot">NULL</span>, <span class="dt">hist =</span> <span class="ot">NULL</span>))</span>
<span id="cb1-15"><a href="cluster-analysis.html#cb1-15"></a><span class="kw">my_skim</span>(dat)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-2">Table 11.1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">dat</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">1470</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">35</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">factor</td>
<td align="left">9</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">26</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">ordered</th>
<th align="right">n_unique</th>
<th align="left">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Attrition</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">No: 1233, Yes: 237</td>
</tr>
<tr class="even">
<td align="left">BusinessTravel</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">3</td>
<td align="left">Tra: 1043, Tra: 277, Non: 150</td>
</tr>
<tr class="odd">
<td align="left">Department</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">3</td>
<td align="left">Res: 961, Sal: 446, Hum: 63</td>
</tr>
<tr class="even">
<td align="left">EducationField</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">6</td>
<td align="left">Lif: 606, Med: 464, Mar: 159, Tec: 132</td>
</tr>
<tr class="odd">
<td align="left">Gender</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">Mal: 882, Fem: 588</td>
</tr>
<tr class="even">
<td align="left">JobRole</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">9</td>
<td align="left">Sal: 326, Res: 292, Lab: 259, Man: 145</td>
</tr>
<tr class="odd">
<td align="left">MaritalStatus</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">3</td>
<td align="left">Mar: 673, Sin: 470, Div: 327</td>
</tr>
<tr class="even">
<td align="left">Over18</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">1</td>
<td align="left">Y: 1470</td>
</tr>
<tr class="odd">
<td align="left">OverTime</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">No: 1054, Yes: 416</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p100</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">EmployeeNumber</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1024.87</td>
<td align="right">602.02</td>
<td align="right">1</td>
<td align="right">2068</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">36.92</td>
<td align="right">9.14</td>
<td align="right">18</td>
<td align="right">60</td>
</tr>
<tr class="odd">
<td align="left">DailyRate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">802.49</td>
<td align="right">403.51</td>
<td align="right">102</td>
<td align="right">1499</td>
</tr>
<tr class="even">
<td align="left">DistanceFromHome</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">9.19</td>
<td align="right">8.11</td>
<td align="right">1</td>
<td align="right">29</td>
</tr>
<tr class="odd">
<td align="left">Education</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.91</td>
<td align="right">1.02</td>
<td align="right">1</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">EmployeeCount</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">EnvironmentSatisfaction</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.72</td>
<td align="right">1.09</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">HourlyRate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">65.89</td>
<td align="right">20.33</td>
<td align="right">30</td>
<td align="right">100</td>
</tr>
<tr class="odd">
<td align="left">JobInvolvement</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.73</td>
<td align="right">0.71</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">JobLevel</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.06</td>
<td align="right">1.11</td>
<td align="right">1</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">JobSatisfaction</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.73</td>
<td align="right">1.10</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">MonthlyIncome</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6502.93</td>
<td align="right">4707.96</td>
<td align="right">1009</td>
<td align="right">19999</td>
</tr>
<tr class="odd">
<td align="left">MonthlyRate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">14313.10</td>
<td align="right">7117.79</td>
<td align="right">2094</td>
<td align="right">26999</td>
</tr>
<tr class="even">
<td align="left">NumCompaniesWorked</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.69</td>
<td align="right">2.50</td>
<td align="right">0</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="left">PercentSalaryHike</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">15.21</td>
<td align="right">3.66</td>
<td align="right">11</td>
<td align="right">25</td>
</tr>
<tr class="even">
<td align="left">PerformanceRating</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.15</td>
<td align="right">0.36</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">RelationshipSatisfaction</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.71</td>
<td align="right">1.08</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">StandardHours</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">80.00</td>
<td align="right">0.00</td>
<td align="right">80</td>
<td align="right">80</td>
</tr>
<tr class="odd">
<td align="left">StockOptionLevel</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.79</td>
<td align="right">0.85</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">TotalWorkingYears</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">11.28</td>
<td align="right">7.78</td>
<td align="right">0</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="left">TrainingTimesLastYear</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.80</td>
<td align="right">1.29</td>
<td align="right">0</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="left">WorkLifeBalance</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.76</td>
<td align="right">0.71</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">YearsAtCompany</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7.01</td>
<td align="right">6.13</td>
<td align="right">0</td>
<td align="right">40</td>
</tr>
<tr class="even">
<td align="left">YearsInCurrentRole</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4.23</td>
<td align="right">3.62</td>
<td align="right">0</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">YearsSinceLastPromotion</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.19</td>
<td align="right">3.22</td>
<td align="right">0</td>
<td align="right">15</td>
</tr>
<tr class="even">
<td align="left">YearsWithCurrManager</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4.12</td>
<td align="right">3.57</td>
<td align="right">0</td>
<td align="right">17</td>
</tr>
</tbody>
</table>
<p>You would normally start a cluster analysis with an exploration of the data to determine which variables are interesting and relevant to your goal. Iâ€™ll bypass that rigor with a simple correlation funnel <a href="https://github.com/business-science/correlationfunnel">GitHub README</a> using binary correlation and include just the variables with a correlation coefficient of at least 0.10.</p>
<p>Binary correlation analysis converts features into binary format by binning the continuous features and one-hot encoding the binary features. <code>correlate()</code> calculates the correlation coefficient for each binary feature to the response variable. A Correlation Funnel is an tornado plot that lists the highest correlation features (based on absolute magnitude) at the top of the and the lowest correlation features at the bottom. For our data set, <code>OverTime</code> (Y|N) has the largest correlation, <code>JobLevel = 1</code>, <code>MonthlyIncome &lt;= 2,695.80</code>, etc.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="cluster-analysis.html#cb2-1"></a>dat <span class="op">%&gt;%</span></span>
<span id="cb2-2"><a href="cluster-analysis.html#cb2-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>EmployeeNumber) <span class="op">%&gt;%</span></span>
<span id="cb2-3"><a href="cluster-analysis.html#cb2-3"></a><span class="st">  </span><span class="kw">binarize</span>(<span class="dt">n_bins =</span> <span class="dv">5</span>, <span class="dt">thresh_infreq =</span> <span class="fl">0.01</span>) <span class="op">%&gt;%</span></span>
<span id="cb2-4"><a href="cluster-analysis.html#cb2-4"></a><span class="st">  </span><span class="kw">correlate</span>(Attrition__Yes) <span class="op">%&gt;%</span></span>
<span id="cb2-5"><a href="cluster-analysis.html#cb2-5"></a><span class="st">  </span><span class="kw">plot_correlation_funnel</span>(<span class="dt">interactive =</span> <span class="ot">FALSE</span>) <span class="co">#%&gt;%</span></span></code></pre></div>
<p><img src="data-sci_files/figure-html/unnamed-chunk-3-1.png" width="768" /></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="cluster-analysis.html#cb3-1"></a><span class="co">#  ggplotly()  # Makes prettier, but drops the labels</span></span></code></pre></div>
<p>Using the cutoff of 0.1, we get 14 features to use in the analysis.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="cluster-analysis.html#cb4-1"></a>vars &lt;-<span class="st"> </span><span class="kw">c</span>(</span>
<span id="cb4-2"><a href="cluster-analysis.html#cb4-2"></a>  <span class="st">&quot;EmployeeNumber&quot;</span>, <span class="st">&quot;Attrition&quot;</span>, </span>
<span id="cb4-3"><a href="cluster-analysis.html#cb4-3"></a>  <span class="st">&quot;OverTime&quot;</span>, <span class="st">&quot;JobLevel&quot;</span>, <span class="st">&quot;MonthlyIncome&quot;</span>, <span class="st">&quot;YearsAtCompany&quot;</span>, <span class="st">&quot;StockOptionLevel&quot;</span>,</span>
<span id="cb4-4"><a href="cluster-analysis.html#cb4-4"></a>  <span class="st">&quot;YearsWithCurrManager&quot;</span>, <span class="st">&quot;TotalWorkingYears&quot;</span>, <span class="st">&quot;MaritalStatus&quot;</span>, <span class="st">&quot;Age&quot;</span>, </span>
<span id="cb4-5"><a href="cluster-analysis.html#cb4-5"></a>  <span class="st">&quot;YearsInCurrentRole&quot;</span>, <span class="st">&quot;JobRole&quot;</span>, <span class="st">&quot;EnvironmentSatisfaction&quot;</span>, <span class="st">&quot;JobInvolvement&quot;</span>, </span>
<span id="cb4-6"><a href="cluster-analysis.html#cb4-6"></a>  <span class="st">&quot;BusinessTravel&quot;</span></span>
<span id="cb4-7"><a href="cluster-analysis.html#cb4-7"></a>)</span>
<span id="cb4-8"><a href="cluster-analysis.html#cb4-8"></a></span>
<span id="cb4-9"><a href="cluster-analysis.html#cb4-9"></a>dat_<span class="dv">2</span> &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span></span>
<span id="cb4-10"><a href="cluster-analysis.html#cb4-10"></a><span class="st">  </span><span class="kw">select</span>(<span class="kw">one_of</span>(vars))</span></code></pre></div>
<p>Central to clustering is the concept of distance. Two observations are similar if the distance between their features is relatively small. There are many ways to define distance (see options in <code>?dist</code>), but the two most common are Euclidean, <span class="math inline">\(d = \sqrt{\sum{(x_i - y_i)^2}}\)</span>, and binary, 1 minus the proportion of shared features (<a href="https://en.wikipedia.org/wiki/Jaccard_index">Wikipedia</a>). If a data set contains both numerica and categorical data, there is a third distance measure, the Gower Distance.</p>
<p>When calculating a Euclidean distance, the features should be on similar scales. Standardize their values as <span class="math inline">\((x - \bar{x})) / sd(x)\)</span> so that each feature has a mean of 0 and standard deviation of 1. Check if scaling is necessary with <code>colmeans()</code> function and <code>apply(df, 2, sd)</code>. The <code>scale()</code> function is a generic function that scales the columns of a matrix. When calculating a binary distance, the categorical features should be binary. Create dummy variables with <code>dummies::dummy.data.frame()</code>. The clustering algorithm may calculate the distances, but standardizing is up to you.</p>
<p>R function <code>dist()</code> calculates distances between observations. <code>daisy()</code> is an alternative that calculates the Gower distance after standardizing.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="cluster-analysis.html#cb5-1"></a>gower_dist &lt;-<span class="st"> </span><span class="kw">daisy</span>(dat_<span class="dv">2</span>[, <span class="dv">2</span><span class="op">:</span><span class="dv">16</span>], <span class="dt">metric =</span> <span class="st">&quot;gower&quot;</span>)</span></code></pre></div>
<p>As a sanity check, we can check the most similar and dissimilar pair of employees according to their Gower Distance score. Here are the most similar employees.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="cluster-analysis.html#cb6-1"></a>gower_mat &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(gower_dist)</span>
<span id="cb6-2"><a href="cluster-analysis.html#cb6-2"></a>dat_<span class="dv">2</span>[<span class="kw">which</span>(gower_mat <span class="op">==</span><span class="st"> </span><span class="kw">min</span>(gower_mat[gower_mat <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>]), <span class="dt">arr.ind =</span> <span class="ot">TRUE</span>)[<span class="dv">1</span>, ], ]</span></code></pre></div>
<pre><code>## # A tibble: 2 x 16
##   EmployeeNumber Attrition OverTime JobLevel MonthlyIncome YearsAtCompany
##            &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt;       &lt;dbl&gt;         &lt;dbl&gt;          &lt;dbl&gt;
## 1           1624 Yes       Yes             1          1569              0
## 2            614 Yes       Yes             1          1878              0
## # ... with 10 more variables: StockOptionLevel &lt;dbl&gt;,
## #   YearsWithCurrManager &lt;dbl&gt;, TotalWorkingYears &lt;dbl&gt;, MaritalStatus &lt;fct&gt;,
## #   Age &lt;dbl&gt;, YearsInCurrentRole &lt;dbl&gt;, JobRole &lt;fct&gt;,
## #   EnvironmentSatisfaction &lt;dbl&gt;, JobInvolvement &lt;dbl&gt;, BusinessTravel &lt;fct&gt;</code></pre>
<p>And here are the most dissimilar employees.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="cluster-analysis.html#cb8-1"></a>dat_<span class="dv">2</span>[<span class="kw">which</span>(gower_mat <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(gower_mat), <span class="dt">arr.ind =</span> <span class="ot">TRUE</span>)[<span class="dv">1</span>, ], ]</span></code></pre></div>
<pre><code>## # A tibble: 2 x 16
##   EmployeeNumber Attrition OverTime JobLevel MonthlyIncome YearsAtCompany
##            &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt;       &lt;dbl&gt;         &lt;dbl&gt;          &lt;dbl&gt;
## 1           1094 No        No              1          4621              3
## 2            825 Yes       Yes             5         19246             31
## # ... with 10 more variables: StockOptionLevel &lt;dbl&gt;,
## #   YearsWithCurrManager &lt;dbl&gt;, TotalWorkingYears &lt;dbl&gt;, MaritalStatus &lt;fct&gt;,
## #   Age &lt;dbl&gt;, YearsInCurrentRole &lt;dbl&gt;, JobRole &lt;fct&gt;,
## #   EnvironmentSatisfaction &lt;dbl&gt;, JobInvolvement &lt;dbl&gt;, BusinessTravel &lt;fct&gt;</code></pre>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="principal-components-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="k-means.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["data-sci.pdf", "data-sci.epub"],
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
